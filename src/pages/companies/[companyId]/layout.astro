---
import CompanyNavbar from '../../../components/CompanyNavbar';
import CompanySidebar from '../../../components/CompanySidebar';

const { companyId } = Astro.params; // Obtener el companyId dinámico desde la ruta
---

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Company Dashboard</title>
  </head>
  <body>
    <!-- Sidebar fijo a la izquierda (visible en pantallas grandes) -->
    <CompanySidebar companyId={companyId} client:only="react" />

    <!-- Contenedor principal con margen para evitar solapamiento -->
    <div class="main-content">
      <!-- Navbar fija (abajo en móvil, izquierda en escritorio) -->
      <CompanyNavbar client:only="react" />

      <!-- Contenido de las páginas hijas -->
      <slot />
    </div>
  </body>

  <style>
    /* Estilos para evitar que el contenido se solape con la sidebar y navbar */
    .main-content {
      margin-left: 0; /* Sin margen por defecto en móvil */
      padding-bottom: 60px; /* Espacio para la navbar fija en móvil */
    }

    @media (min-width: 768px) {
      .main-content {
        margin-left: 16rem; /* 256px = 64 * 4, ancho de la sidebar en escritorio */
        padding-bottom: 0; /* No necesitamos padding en escritorio */
      }
    }
  </style>
</html>